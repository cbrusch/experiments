<!DOCTYPE html>
<html lang="en">
	<head>
		<link rel="stylesheet" href="css/app.css">
	</head>
	<body style="height: 1000vh">
		<!-- http://imakewebthings.com/waypoints/guides/getting-started/ -->
		<div id="my-offset-debug" style="border: 1px solid red; height: 1px; width: 100vw; position: fixed; top: 300px; z-index: 1000;"></div>
		<div style="height: 800px; width: 100%; position: relative; top: 100px; font-size: 72px; font-weight: 600; text-align: center;"><h2>This is a paragraph</h2></div>
		<div class="basic-sticky-waypoint" style="height: 90vh; width: 100%;">
			<div class="my-image"></div>
		</div>

		<div id="basic-waypoint" class="basic-waypoint-bkg" style="height: 200px; width: 100%; border: 5px solid purple; position: relative; top: 101vh; font-size: 36px; font-weight: 600; text-align: center;"><h2>This is a commentary on the image</h2></div>
		<div id="basic-waypoint-2" class="basic-waypoint-bkg" style="height: 200px; width: 100%; border: 5px solid purple; position: relative; top: 201vh; font-size: 36px; font-weight: 600; text-align: center;"><h2>This is commentary 2 on the image</h2></div>
		<div id="basic-waypoint-3" class="basic-waypoint-bkg" style="height: 200px; width: 100%; border: 5px solid purple; position: relative; top: 301vh; font-size: 36px; font-weight: 600; text-align: center;"><h2>This is commentary 3 on the image</h2></div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
		<script src="/js/waypoints/lib/noframework.waypoints.min.js"></script>
		<script src="/js/waypoints/lib/jquery.waypoints.min.js"></script>
		<script src="/js/waypoints/lib/shortcuts/sticky.min.js"></script>
		<script src="/js/waypoints/lib/waypoints.debug.js"></script> <!-- remove in production -->

		<script>
			$(function() {
				console.log("hello");

				// instantiate the global Waypoint class and pass an options object to it. the two paramaters required are element and handler
				var waypoint = new Waypoint({
					element: document.getElementById('basic-waypoint'), // tells Waypoint which DOM element's position to observe on scroll
					handler: function(direction) { // triggered when the top of the element hits the top of the viewport
						console.log('Direction: ' + direction);
						console.log("my text hit the trigger");
						if(direction === 'down') {
							document.getElementById('basic-waypoint').classList.add('my-test-in');
							document.getElementById('basic-waypoint').classList.remove('my-test-out');
						}
						else {
							document.getElementById('basic-waypoint').classList.add('my-test-out');
							document.getElementById('basic-waypoint').classList.remove('my-test-in');
						}
						
					},
					offset: 300, // moving the trigger location from 0 at the top of the viewport
				})
				var waypoint = new Waypoint({
					element: document.getElementById('basic-waypoint-2'), // tells Waypoint which DOM element's position to observe on scroll
					handler: function(direction) { // triggered when the top of the element hits the top of the viewport
						console.log('Direction: ' + direction);
						console.log("my text 2 hit the trigger");
						if(direction === 'down') {
							document.getElementById('basic-waypoint-2').classList.add('my-test-in');
							document.getElementById('basic-waypoint-2').classList.remove('my-test-out');
						}
						else {
							document.getElementById('basic-waypoint-2').classList.add('my-test-out');
							document.getElementById('basic-waypoint-2').classList.remove('my-test-in');
						}
					},
					offset: 300, // moving the trigger location from 0 at the top of the viewport
				})
				var waypoint = new Waypoint({
					element: document.getElementById('basic-waypoint-3'), // tells Waypoint which DOM element's position to observe on scroll
					handler: function(direction) { // triggered when the top of the element hits the top of the viewport
						console.log('Direction: ' + direction);
						console.log("my text 3 hit the trigger");
						if(direction === 'down') {
							document.getElementById('basic-waypoint-3').classList.add('my-test-in');
							document.getElementById('basic-waypoint-3').classList.remove('my-test-out');
						}
						else {
							document.getElementById('basic-waypoint-3').classList.add('my-test-out');
							document.getElementById('basic-waypoint-3').classList.remove('my-test-in');
						}

						// if($('#basic-waypoint-3').hasClass('my-test-in')) {
						// 	sticky.destroy();
						// }
					},
					offset: 300, // moving the trigger location from 0 at the top of the viewport
				})
				// var waypoint = new Waypoint({
				// 	element: $('.basic-sticky-waypoint'),
				// 	handler: function() {
				// 		console.log("i'm not sure this needs to be a waypoint right now");
				// 	}
				// })

				var sticky = new Waypoint.Sticky({
					element: $('.basic-sticky-waypoint')[0],
					handler: function() { // triggered when the top of the element hits the top of the viewport
						console.log('am I sticking?');
						$('.my-image').addClass('my-image__remove-filter');
					}
				})
			});



		</script>
	</body>
</html>