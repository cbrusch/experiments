<!DOCTYPE html>
<html lang="en">
	<head>
		<link rel="stylesheet" href="css/app.css">
<!-- 		<script src="https://aframe.io/releases/0.6.0/aframe.min.js"></script> -->
		<script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    	<script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
	</head>
	<body>
		<a-scene>
			<a-assets>
				<img id="painting" src="assets/img/painting.png">
				<img id="mondo-nuovo" src="assets/img/mondo-nuovo.png">
				<img id="crowd-left" src="assets/img/crowd-left.png">
				<img id="women" src="assets/img/women.png">
				<img id="soldier" src="assets/img/soldier.png">
				<img id="barker" src="assets/img/barker.png">
				<img id="boy" src="assets/img/boy.png">
				<img id="discover" src="assets/img/select-figure-text.png">
				<img id="importantPeople" src="assets/img/important-people.png">
				<img id="questionableRelationships" src="assets/img/questionable-relationships.png">
				<img id="startSlideshow" src="assets/img/start-slideshow.png">
				<img id="mnSlideshow" src="assets/img/mn.png">
			</a-assets>
			<!-- DISCOVER STORIES -->
			<a-box id="discoverLayer" click-discover class="clickable" src="#discover" width="50" height="20" position="0 10 -30" visible="true"></a-box>
			<!-- HIGHLIGHT PEOPLE -->
			<a-box id="highlightPeopleLayer" click-people-highlight class="clickable" src="#painting" width="50" height="20" position="0 10 -30" visible="false">
				<a-box id="soldierLayer" class="clickable" src="#soldier" width="50" height="20" color="purple" position="0 0 .1" transparent="true"></a-box>
				<a-box id="crowdLeftLayer" class="clickable" src="#crowd-left" width="50" height="20" color="purple" position="0 0 .1" transparent="true"></a-box>
			</a-box>
			<!-- IMPORTANT PEOPLE -->
			<a-box id="importantPeopleLayer" click-important-people class="clickable" src="#importantPeople" width="50" height="20" position="0 10 -30" visible="false"></a-box>
			<!-- HIGHLIGHT RELATIONSHIPS -->
			<a-box id="highlightRelationshipsLayer" click-relationships-highlight class="clickable" src="#painting" width="50" height="20" position="0 10 -30" visible="false">
				<a-box id="boyLayer" class="clickable" src="#boy" width="50" height="20" color="purple" position="0 0 .1" transparent="true"></a-box>
				<a-box id="barkerLayer" class="clickable" src="#barker" width="50" height="20" color="purple" position="0 0 .1" transparent="true"></a-box>
			</a-box>
			<!-- QUESTIONABLE RELATIONSHIPS -->
			<a-box id="questionableRelationshipsLayer" click-questionable-relationships class="clickable" src="#questionableRelationships" width="50" height="20" position="0 10 -30" visible="false"></a-box>
			<!-- START SLIDESHOW -->
			<a-box id="startSlideshowLayer" click-start-slideshow class="clickable" src="#startSlideshow" width="50" height="20" position="0 10 -30" visible="false"></a-box>
			<!-- SLIDESHOW -->
			<a-box id="mnLayer" class="clickable" src="#mnSlideshow" width="30" height="40" position="0 10 0"  scale="3 3 3" transparent="true" visible="true">
				<a-animation attribute="position" to="0 15 -30" delay="15000" dur="5000" repeat="0"></a-animation>
			</a-box>
			<!-- PLAIN PAINTING -->
			<a-box id="plainPaintingLayer" class="clickable" src="#painting" width="50" height="20" position="0 10 -30" visible="false"></a-box>

<!-- 			<a-box id="paintingLayer" click-listener class="clickable" src="#painting" width="50" height="20" color="yellow" position="0 10 -30" visible="false">
				<a-box id="soldierLayer" class="clickable" src="#soldier" width="50" height="20" color="purple" position="0 0 .1" transparent="true"></a-box>
			</a-box> -->
<!-- 			<a-box id="hiddenPainting" click-listener class="clickable" src="#painting" width="50" height="20" color="pink" position="0 10 -30" visible="false">
				<a-box id="hiddenSoldier" class="clickable" src="#soldier" width="50" height="20" color="green" position="0 0 .1" transparent="true"></a-box>
			</a-box> -->
<!-- 			<a-box id="soldierLayer" class="clickable" src="#soldier" width="50" height="20" color="purple" position="0 10 -29" transparent="true"></a-box> -->


<!-- 							<a-plane id="#layer2" color="blue" width="75" height="30" rotation="0 0 0" position="0 10 -29" transparent="true" opacity="0.9"></a-plane> -->
<!-- 			<a-plane id="#layer1" src="#painting" color="green" width="75" height="30" rotation="0 0 0" position="0 10 -30">

				<a-plane id="#layer3" src="#crowd-left" width="75" height="30" rotation="0 0 0" position="0 0 0" transparent="true" opacity="1"></a-plane>
				<a-plane id="#layer4" src="#women" width="75" height="30" rotation="0 0 0" position="0 0 .2" transparent="true" opacity="1"></a-plane>
				<a-plane id="#layer5" src="#soldier" width="75" height="30" rotation="0 0 0" position="0 0 .3" transparent="true"></a-plane>
 				<a-animation attribute="material.opacity" begin="fade" to="0" dur="5000"></a-animation>
				<a-animation attribute="position" to="3 3 -5" direction="alternate" dur="2000" repeat="1"></a-animation>
			</a-plane> -->
			<!-- </a-entity> -->
<!-- ANIMATION FOR VERSION .5 https://aframe.io/docs/0.5.0/core/animations.html -->
<!-- 			<a-entity obj-model="obj: #bear-obj; mtl: #bear-mtl" position="-3 -5 -20" rotation="10 30 0"></a-entity> -->
<!-- 			<a-box position="-3 2 0" cursor-listener color="blue">
				<a-animation attribute="position" to="0 3 -5" direction="alternate" dur="2000" repeat="indefinite"></a-animation>
			</a-box> -->

			<!-- <a-entity  id="box" cursor-listener geometry="primitive: box" material="color: blue" opacity="1" scale=" 3 3 3"></a-entity> -->
			<a-light type="ambient" intensity="1"></a-light>

			<a-camera>
				<a-cursor></a-cursor>
			</a-camera>
		</a-scene>
	</body>
	<script>
	//discover to people highlights
		AFRAME.registerComponent('click-discover', {
			init: function() {
				console.log("start animation");
				var sceeene = document.querySelector('a-scene');
				var visEl = sceeene.querySelector('#highlightPeopleLayer');
				this.el.addEventListener('click', function() {
					visEl.setAttribute('visible', 'true');
					this.setAttribute('visible', 'false');
					console.log("end discover");
				});
				console.log("show people highlights");
			}
		});
		AFRAME.registerComponent('click-people-highlight', {
			init: function() {
				console.log("animation step 2");
				var sceeene = document.querySelector('a-scene');
				var visEl = sceeene.querySelector('#importantPeopleLayer');
				this.el.addEventListener('click', function() {
					visEl.setAttribute('visible', 'true');
					this.setAttribute('visible', 'false');
					console.log("end people highlights");
				});
				console.log("show important people text");
			}
		});
		AFRAME.registerComponent('click-important-people', {
			init: function() {
				console.log("animation step 2");
				var sceeene = document.querySelector('a-scene');
				var visEl = sceeene.querySelector('#highlightRelationshipsLayer');
				this.el.addEventListener('click', function() {
					visEl.setAttribute('visible', 'true');
					this.setAttribute('visible', 'false');
					console.log("end people highlights");
				});
				console.log("show relationships highlight");
			}
		});
		AFRAME.registerComponent('click-relationships-highlight', {
			init: function() {
				console.log("animation step 2");
				var sceeene = document.querySelector('a-scene');
				var visEl = sceeene.querySelector('#questionableRelationshipsLayer');
				this.el.addEventListener('click', function() {
					visEl.setAttribute('visible', 'true');
					this.setAttribute('visible', 'false');
					console.log("end relationship highlights");
				});
				console.log("show questionable relationships text");
			}
		});
		AFRAME.registerComponent('click-questionable-relationships', {
			init: function() {
				console.log("animation step 2");
				var sceeene = document.querySelector('a-scene');
				var visEl = sceeene.querySelector('#startSlideshowLayer');
				this.el.addEventListener('click', function() {
					visEl.setAttribute('visible', 'true');
					this.setAttribute('visible', 'false');
					console.log("end questionable relationships");
				});
				console.log("show start slideshow text");
			}
		});
		AFRAME.registerComponent('click-start-slideshow', {
			init: function() {
				console.log("animation step 2");
				var sceeene = document.querySelector('a-scene');
				var visEl = sceeene.querySelector('#mnLayer');
				var visEl2 = sceeene.querySelector('#plainPaintingLayer')
				this.el.addEventListener('click', function() {
					visEl.setAttribute('visible', 'true');
					visEl2.setAttribute('visible', 'true');
					this.setAttribute('visible', 'false');
					console.log("end slideshow text");
				});
				console.log("mondo nuovo zoom");
			}
		});





		// AFRAME.registerComponent('cursor-listener', {
		// 	function() {
		// 		document.querySelector('#layer1').emit('fade');
		// 		console.log("I'm faaaaading");	
		// 	}
		// 	init: function() {
		// 		var COLORS = ['red', 'green', 'blue'];
		// 		this.el.addEventListener('click', function(evt) {
		// 			var randomIndex = Math.floor(Math.random() * COLORS.length);
		// 			this.setAttribute('material', 'color', COLORS[randomIndex]);
		// 			console.log('I was clicked at: ', evt.detail.intersection.point);
		// 		});
		// 	}
		// });
	</script>
</html>